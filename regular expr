(\w+:\/\/)?(www\.)?(\w+\.\w+)+\/(\w+\/)*(\w+\.\w+)



#include <stdio.h>
#include <regex.h>
#include <string.h>


int main(){
        char* str = "Some other protocols    ftp://skype.com/qqwe/qweqw/qwe.avi";
        char* regexString = "(\\w+:\\/\\/)?(www\\.)?((\\w+\\.\\w+)+)\\/(\\w+\\/)*(\\w+\\.\\w+)";
        size_t maxGroups = 7;
        regex_t regexCompiled;

        //printf("start\n");

        regmatch_t groupArray[maxGroups];

        if (regcomp(&regexCompiled, regexString, REG_EXTENDED))
        {
                printf("Wowm no - can't compile regular expression\n");
                return 0;
        }else{
                if(regexec(&regexCompiled, str, maxGroups, groupArray, 0) == 0){
                        for(int j = groupArray[3].rm_so; j < groupArray[3].rm_eo; j++){
                                printf("%c", str[j]);
                        }
                }
        }
        return 0;
}
